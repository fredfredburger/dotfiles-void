#!/bin/sh

url=$1
[ "$url" = "" ] && url="$(xclip -o -selection primary)"

### 1080p ###
height=1080
### 1440p ###
## height=1440

notify-send "mpvurl" "Trying ${url} with h=${height}\n(Final resolutions may differ.)"

mpv --keep-open=yes --ytdl-format="(bestvideo[height<=?${height}]+bestaudio/best)" "$url" || notify-send "mpvurl" "Can't play $url" && exit 1

exit 0
